[
  {
    "tipo": "protocolo_agentes",
    "categoria": "flujo",
    "descripcion": "Consulta multi-agente",
    "evidencia": "Usar agents/orquestador.py: consultar_agentes(pregunta). El orquestador distribuye a los agentes relevantes (Estratega, Neuro, UX, Etico, Datos, Operaciones, Comunicacion). Cada uno responde desde su perspectiva.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_agentes",
    "categoria": "flujo",
    "descripcion": "Panel de estado",
    "evidencia": "panel_agentes() muestra estado de cada agente: activo/inactivo, ultima consulta, especialidad. Se ejecuta al inicio de sesion.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_agentes",
    "categoria": "principio",
    "descripcion": "Agentes invisibles para el usuario",
    "evidencia": "El usuario habla con ARGOS. Los agentes trabajan internamente. No decir 'el agente Neuro opina que...'. Integrar las perspectivas en una sola respuesta.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_agentes",
    "categoria": "principio",
    "descripcion": "Registrar consultas",
    "evidencia": "Cada consulta multi-agente se registra en tabla consultas_agente con la pregunta, agentes consultados, y respuestas. Sirve para mejorar el sistema.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_asesor",
    "categoria": "capacidad",
    "descripcion": "Redaccion de mensajes (WhatsApp, email, carta)",
    "evidencia": "Input: situacion + interlocutor + objetivo + tono. Output: mensaje listo para enviar. El usuario tiene la ultima palabra",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_asesor",
    "categoria": "capacidad",
    "descripcion": "Analisis de situaciones laborales/personales",
    "evidencia": "Input: contexto DB + evidencia. Output: opinion honesta + recomendacion. No ser condescendiente",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_asesor",
    "categoria": "capacidad",
    "descripcion": "Construccion de casos con evidencia",
    "evidencia": "Input: fuentes (chats, archivos, emails). Output: informe con timeline verificable. Solo datos reales",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_asesor",
    "categoria": "capacidad",
    "descripcion": "Seguimiento de reclamos y gestiones",
    "evidencia": "Input: accion + plazos + interlocutor. Registrar en seguimiento, alertar en proxima sesion",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_asesor",
    "categoria": "flujo",
    "descripcion": "Fase 1: Recopilar evidencia antes de asesorar",
    "evidencia": "Parsear chats WhatsApp, scan filesystem timestamps, cruzar fuentes en timeline verificable",
    "sugerencia": "Siempre recopilar evidencia ANTES de opinar",
    "compartido": 1
  },
  {
    "tipo": "protocolo_asesor",
    "categoria": "flujo",
    "descripcion": "Fase 2: Analizar situacion con contexto completo",
    "evidencia": "Consultar perfil_datos + personas + seguimiento. Identificar dinamicas de poder, evaluar posicion, detectar riesgos",
    "sugerencia": "No opinar sin leer contexto completo primero",
    "compartido": 1
  },
  {
    "tipo": "protocolo_asesor",
    "categoria": "flujo",
    "descripcion": "Fase 3: Asesorar con opinion honesta",
    "evidencia": "Sin condescendencia. Analisis de dinamicas de poder. Recomendar activamente (afirmar, no pedir). Descartar opciones riesgosas",
    "sugerencia": "Llamar las cosas por su nombre",
    "compartido": 1
  },
  {
    "tipo": "protocolo_asesor",
    "categoria": "flujo",
    "descripcion": "Fase 4: Redactar comunicacion calibrada",
    "evidencia": "Tono calibrado al interlocutor. Iterar con usuario. Tecnicas: afirmar no pedir, monto explicito, urgencia sin amenaza, amplitud sin detalle",
    "sugerencia": "El usuario aprueba la version final",
    "compartido": 1
  },
  {
    "tipo": "protocolo_asesor",
    "categoria": "principio",
    "descripcion": "Honestidad brutal cuando se pide",
    "evidencia": "Si el usuario dice 'no seas condescendiente', ir directo",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_asesor",
    "categoria": "principio",
    "descripcion": "Respetar agencia del usuario",
    "evidencia": "ARGOS asesora, el usuario decide. Nunca tomar decisiones por el",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_asesor",
    "categoria": "principio",
    "descripcion": "Nunca fabricar datos ni evidencia",
    "evidencia": "Ni datos, ni evidencia, ni argumentos sin base real",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_asesor",
    "categoria": "principio",
    "descripcion": "Iterar rapido con el usuario",
    "evidencia": "El usuario refina, ARGOS ajusta en cada vuelta",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_asesor",
    "categoria": "principio",
    "descripcion": "Calibrar tono al interlocutor",
    "evidencia": "El tono depende de a quien se le habla, no de lo que uno siente. Consultar personas.perfil_comportamiento",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_asesor",
    "categoria": "principio",
    "descripcion": "Proteger al usuario",
    "evidencia": "Detectar manipulacion, abuso de poder, patrones toxicos",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_asesor",
    "categoria": "principio",
    "descripcion": "Desaconsejar lo riesgoso",
    "evidencia": "Si algo debilita la posicion del usuario, decirlo explicitamente",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_asesor",
    "categoria": "principio",
    "descripcion": "Registrar toda intervencion en DB",
    "evidencia": "Cada accion de asesoramiento va a eventos. Si maniana importa, se registra",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_backup",
    "categoria": "flujo",
    "descripcion": "Backup al cerrar sesion",
    "evidencia": "Ejecutar python tools/backup.py. Copia DB con timestamp a carpeta de backup del usuario. Mantiene ultimos 10 backups. El mas reciente se llama _latest.db.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_backup",
    "categoria": "flujo",
    "descripcion": "Safe delete y safe update",
    "evidencia": "Usar db_safety.safe_delete() y safe_update() en vez de DELETE/UPDATE directo. Registra en _papelera antes de borrar. Registra en _operaciones_log.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_backup",
    "categoria": "principio",
    "descripcion": "WAL mode activo",
    "evidencia": "DB usa WAL (Write-Ahead Logging). Permite lecturas concurrentes. Se activa en db_safety.py al arrancar.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_backup",
    "categoria": "principio",
    "descripcion": "Nunca borrar sin papelera",
    "evidencia": "Todo delete pasa por safe_delete que guarda copia en _papelera. Se puede recuperar.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_bienestar",
    "categoria": "flujo",
    "descripcion": "Registro diario de bienestar",
    "evidencia": "Campos: humor (1-5), energia (1-5), estres (1-10), horas_sueno, calidad_sueno, ejercicio_min, logros, frustraciones, conflictos, notas. Insertar en tabla bienestar. No todos los campos son obligatorios.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_bienestar",
    "categoria": "flujo",
    "descripcion": "Reporte semanal bienestar",
    "evidencia": "Consultar bienestar ultimos 7 dias. Calcular promedios. Detectar tendencias (estres subiendo, energia bajando). Cruzar con eventos del mismo periodo para correlacionar.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_bienestar",
    "categoria": "principio",
    "descripcion": "Espejo no coach",
    "evidencia": "Mostrar los numeros y las tendencias. No decir 'deberias descansar mas'. Dejar que el usuario saque sus conclusiones.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_bienestar",
    "categoria": "principio",
    "descripcion": "Nudge si hace 2+ dias sin registro",
    "evidencia": "proactivo.py detecta dias sin bienestar. Nudge: 'Hace X dias sin registrar bienestar. Como estas hoy? (rapido: humor/energia/estres)'",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "estructura",
    "descripcion": "Carpeta A1: Documentacion Legal",
    "evidencia": "Carta presentacion, garantia, DDJJs, estatuto, poderes, RIUPP. Caratula: 0 Caratula.pdf",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "estructura",
    "descripcion": "Carpeta A2: Info Economico-Financiera",
    "evidencia": "IIBB, IVA 12 meses, ARCA, balances, IGJ, ventas, bancos",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "estructura",
    "descripcion": "Carpeta B: Documentacion Tecnica",
    "evidencia": "Datos empresa, antecedentes+OC, organigrama, RT, CVs, memoria tecnica, proveedores, subcontratistas, garantia, datasheets",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "estructura",
    "descripcion": "Carpeta C: Oferta Economica",
    "evidencia": "Formula oferta, planillas cotizacion, analisis de precios",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "flujo",
    "descripcion": "Paso 0: Registrar licitacion en DB",
    "evidencia": "Crear proyecto en tabla proyectos (nombre, tipo=laboral, estado=activo). Crear carpeta en argos/projects/{nombre_corto}/. Preguntar al usuario donde esta el pliego y la carpeta de trabajo en OneDrive.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "flujo",
    "descripcion": "Paso 1: Leer pliego y extraer requisitos",
    "evidencia": "Leer el pliego PDF completo. Extraer: objeto, plazo, garantias, documentacion requerida por carpeta (A1/A2/B/C), items a cotizar, condiciones especiales, visita tecnica, fecha apertura. Registrar como evento tipo=licitacion subtipo=analisis_pliego.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "flujo",
    "descripcion": "Paso 2: Armar estructura de carpetas",
    "evidencia": "Crear en OneDrive: DOC A PRESENTAR/CARPETA A1, A2, B, C con subcarpetas varios/ para .docx originales. Caratula 0 Caratula.pdf en cada una. Registrar en seguimiento la fecha limite de presentacion.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "flujo",
    "descripcion": "Paso 3: Documentacion legal (Carpeta A1)",
    "evidencia": "Generar: carta presentacion, DDJJs (impedimentos, domicilio, seguros, DDJJ general), garantia de oferta (poliza o cheque). Recopilar: estatuto, poderes, RIUPP, constancias. Cada doc: .docx en varios/ y .pdf en carpeta principal.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "flujo",
    "descripcion": "Paso 4: Info economico-financiera (Carpeta A2)",
    "evidencia": "Recopilar del usuario: IIBB ultimos 12 meses, VEP IVA 12 meses, constancia ARCA, balances certificados, IGJ vigente, certificacion ventas, constancias bancarias. Solo recopilar, no generar.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "flujo",
    "descripcion": "Paso 5: Documentacion tecnica (Carpeta B)",
    "evidencia": "Generar: datos empresa, listado antecedentes+OC, organigrama, designacion RT, CVs equipo, memoria tecnica, listado proveedores/subcontratistas, certificado garantia, plan de trabajo (Gantt). Descargar datasheets de equipos ofertados.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "flujo",
    "descripcion": "Paso 6: Oferta economica (Carpeta C)",
    "evidencia": "Completar planillas del pliego con precios unitarios. Analisis de precios (Anexo VII): Costo Directo > GG > CF > Beneficio > IVA mix > Total. Verificar que el total coincida con la formula de oferta. Usar cotizacion.py para algebra inversa.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "flujo",
    "descripcion": "Paso 7: Verificar completitud",
    "evidencia": "Checklist contra el pliego: cada documento requerido debe existir en la carpeta correspondiente. Verificar: firma donde corresponda, fojas numeradas, garantia vigente, todos los anexos completos, formatos correctos (PDF no vacio, >0 bytes).",
    "sugerencia": "Recorrer cada item del pliego y verificar uno por uno",
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "flujo",
    "descripcion": "Paso 8: Merge y foliacion final",
    "evidencia": "Ordenar PDFs dentro de cada carpeta segun indice del pliego. Merge por carpeta con foliador.py. Foliacion continua: A1 empieza en 1, A2 continua donde termino A1, B continua, C continua. Verificar que no haya PDFs vacios.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "flujo",
    "descripcion": "Paso 9: Presentacion y registro",
    "evidencia": "Confirmar con usuario la carpeta final. Si es electronica: indicar formato de carga. Si es fisica: imprimir y encuadernar. Registrar evento tipo=licitacion subtipo=presentacion con resultado.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "proveedor",
    "descripcion": "Furukawa (lightera.com): Cat6A, FO OM3, ODF, faceplates, patch panels",
    "evidencia": "Datasheets descargables directo del sitio",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "proveedor",
    "descripcion": "Panduit: Racks 42U (4 postes, Net-Access)",
    "evidencia": "Datasheets descargables",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "proveedor",
    "descripcion": "Ubiquiti (ui.com): Switches, APs, Gateways",
    "evidencia": "Datasheets descargables directo del sitio",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "proveedor",
    "descripcion": "Grandstream: Centrales IP, telefonos, gateways FXO",
    "evidencia": "Datasheets descargables",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "proveedor",
    "descripcion": "Kaise: UPS rack",
    "evidencia": "Datasheets descargables",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "tecnico",
    "descripcion": "Creacion documentos Word desde template",
    "evidencia": "Usar DDJJ existente como base (preserva header/footer). clear_body() limpia contenido manteniendo sectPr. add_para() con font, color, size via lxml. Siempre r'' para paths",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "tecnico",
    "descripcion": "Conversion docx a PDF via Word COM",
    "evidencia": "Siempre taskkill /f /im WINWORD.EXE antes. win32com.client.Dispatch Word.Application, Visible=False, SaveAs FileFormat=17",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "tecnico",
    "descripcion": "Merge y foliacion de PDFs",
    "evidencia": "fitz.open() merged, insert_pdf cada archivo, agregar 'Folio: N' en bottom-right, fontsize=9, color gris (0.3,0.3,0.3). Foliacion continua entre carpetas",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "tecnico",
    "descripcion": "Analisis de Precios (Anexo VII)",
    "evidencia": "Cadena: Costo Directo > GG% > CF% > Beneficio% > IVA > Total. IVA mix 21% + 10.5%. Trabajar hacia atras desde total. Celda cierre =TARGET-D68 para absorber floating point",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "tecnico",
    "descripcion": "Manipulacion .docx existentes",
    "evidencia": "Buscar en doc.paragraphs Y doc.tables por separado. Reemplazar en run.text (no p.text) para preservar formato",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "troubleshoot",
    "descripcion": "Encoding espaniol en paths OneDrive",
    "evidencia": "Usar Python scripts con r'', nunca heredoc bash",
    "sugerencia": "Usar r'' raw strings siempre",
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "troubleshoot",
    "descripcion": "OneDrive bloquea archivos",
    "evidencia": "Reintentar con time.sleep(), o pedir al usuario que cierre",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "troubleshoot",
    "descripcion": ".docx desaparece (solo queda PDF)",
    "evidencia": "Buscar en subcarpeta varios/",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "troubleshoot",
    "descripcion": "PDFs vacios (0 bytes)",
    "evidencia": "Skip con os.path.getsize() > 0",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "troubleshoot",
    "descripcion": "Excel PermissionError",
    "evidencia": "Cerrar Excel, esperar sync OneDrive, reintentar",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_licitacion",
    "categoria": "troubleshoot",
    "descripcion": "Floating point en cadena Excel",
    "evidencia": "Celda de cierre referenciando target hardcodeado",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_metas",
    "categoria": "flujo",
    "descripcion": "Registrar meta nueva",
    "evidencia": "Campos: descripcion, area (laboral/personal/salud/proyecto), estado=activa, indicadores de avance. Insertar en tabla metas. Crear seguimiento asociado si tiene deadline.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_metas",
    "categoria": "flujo",
    "descripcion": "Medir coherencia intencion vs comportamiento",
    "evidencia": "Usar tools/coherencia.py: medir_coherencia_meta() cruza lo que el usuario dice que quiere con lo que realmente hace (eventos). Puntaje 0-1. Mostrar como espejo.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_metas",
    "categoria": "flujo",
    "descripcion": "Reporte de coherencia semanal",
    "evidencia": "coherencia.reporte_coherencia() genera reporte de todas las metas activas. Muestra: coherencia promedio, metas avanzando, metas abandonadas, sugerencias.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_metas",
    "categoria": "principio",
    "descripcion": "Espejo no presion",
    "evidencia": "Mostrar los numeros. Si coherencia es baja, no decir 'estas fallando'. Decir 'la meta X no tuvo actividad en Y dias. Que queres hacer con esto?'",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_metas",
    "categoria": "principio",
    "descripcion": "Detectar metas implicitas",
    "evidencia": "Si el usuario dice repetidamente 'quiero X' pero no tiene meta registrada, sugerir crearla. Solo sugerir, no crear automaticamente.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_nutricion",
    "categoria": "flujo",
    "descripcion": "Registrar comida",
    "evidencia": "Usuario dice que comio (texto libre o audio). Extraer: tipo_comida (desayuno/almuerzo/merienda/cena/snack), descripcion, calorias_est si es posible. Insertar en tabla nutricion.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_nutricion",
    "categoria": "flujo",
    "descripcion": "Reporte semanal nutricion",
    "evidencia": "Consultar nutricion ultimos 7 dias. Comparar contra plan activo (salud WHERE tipo=plan_nutricional). Detectar: dias sin registro, comidas que no siguen el plan, patrones.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_nutricion",
    "categoria": "flujo",
    "descripcion": "Cargar plan nutricional",
    "evidencia": "Recibir plan del nutricionista (texto, PDF, foto). Extraer reglas: proteinas, vegetales, suplementos, hidratacion, ejercicio. Guardar en salud tipo=plan_nutricional con detalle completo en descripcion+notas.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_nutricion",
    "categoria": "principio",
    "descripcion": "Registro debe ser facil",
    "evidencia": "El usuario dice 'comi pollo con ensalada' y ARGOS lo registra completo. No pedir formularios largos. Extraer datos del texto libre.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_nutricion",
    "categoria": "principio",
    "descripcion": "Nudge sin presion",
    "evidencia": "Si hace 3+ dias sin registrar comida, proactivo.py genera nudge suave. No juzgar, no presionar. Solo recordar.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_reflexion",
    "categoria": "flujo",
    "descripcion": "Capturar reflexion de texto libre",
    "evidencia": "Usuario dice algo emocional/reflexivo. Usar proactivo.extraer_reflexion() para detectar sentimiento, intensidad, area, tags. Insertar en tabla reflexiones con revisado=0.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_reflexion",
    "categoria": "flujo",
    "descripcion": "Revisar reflexiones pendientes",
    "evidencia": "SELECT * FROM reflexiones WHERE revisado=0 ORDER BY fecha DESC. Mostrar al usuario en inicio de sesion si hay reflexiones sin retomar. Preguntar si quiere revisarlas.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_reflexion",
    "categoria": "flujo",
    "descripcion": "Generar reporte emocional",
    "evidencia": "Analizar reflexiones de un periodo. Agrupar por sentimiento, area, intensidad. Detectar patrones: temas recurrentes, areas de frustracion, momentos positivos.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_reflexion",
    "categoria": "principio",
    "descripcion": "No juzgar",
    "evidencia": "Las reflexiones son del usuario. ARGOS registra y refleja, no opina sobre sentimientos. Solo muestra patrones.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_reflexion",
    "categoria": "principio",
    "descripcion": "Detectar automaticamente",
    "evidencia": "Si el usuario dice algo con carga emocional en una conversacion normal, ofrecer registrarlo como reflexion. No forzar.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_salud",
    "categoria": "flujo",
    "descripcion": "Registrar turno medico",
    "evidencia": "Preguntar: fecha, profesional, especialidad, lugar. Insertar en tabla salud con estado=pendiente. Crear seguimiento con fecha_limite=fecha del turno. Alertar en inicio de sesion si hay turno proximo (3 dias).",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_salud",
    "categoria": "flujo",
    "descripcion": "Registrar resultado de consulta",
    "evidencia": "Actualizar registro en salud: estado=realizado, resultado=diagnostico/indicacion, proxima_cita si hay. Si hay cirugia indicada, crear seguimiento con prioridad alta.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_salud",
    "categoria": "flujo",
    "descripcion": "Registrar estudio medico",
    "evidencia": "Tipo=estudio en tabla salud. Registrar donde queda el archivo (path en OneDrive). Si es de familiar, usar persona_id correspondiente de tabla personas.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_salud",
    "categoria": "flujo",
    "descripcion": "Registrar plan medico/nutricional",
    "evidencia": "Tipo=plan_nutricional o plan_medico en salud. Descripcion con el plan completo. Estado=activo. Notas con detalles (marcas, suplementos, rutina).",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_salud",
    "categoria": "principio",
    "descripcion": "Salud familiar incluida",
    "evidencia": "No solo el usuario principal. Registrar turnos, estudios y planes de familiares con su persona_id correspondiente. Tabla salud soporta cualquier persona_id.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_salud",
    "categoria": "principio",
    "descripcion": "Alertar turnos proximos",
    "evidencia": "En inicio de sesion, consultar: SELECT * FROM salud WHERE estado='pendiente' AND fecha >= date('now') AND fecha <= date('now', '+3 days'). Mostrar como alerta urgente.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_salud",
    "categoria": "principio",
    "descripcion": "No diagnosticar",
    "evidencia": "ARGOS registra y alerta, nunca diagnostica ni recomienda tratamientos. Solo reproduce lo que dijo el profesional.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_telegram",
    "categoria": "flujo",
    "descripcion": "Arrancar bridge",
    "evidencia": "Verificar si loop.py esta corriendo (ps aux | grep loop.py). Si no, ofrecer arrancarlo con nohup. El bridge escribe al inbox JSONL, Claude Code lee con bridge.py --check.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_telegram",
    "categoria": "flujo",
    "descripcion": "Procesar mensaje de texto",
    "evidencia": "loop.py recibe > escribir_mensaje('in', contenido) al inbox > Claude Code lee > procesa > responder() envia a Telegram Y registra en inbox.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_telegram",
    "categoria": "flujo",
    "descripcion": "Procesar audio",
    "evidencia": "loop.py recibe voice > download_voice() > stt.transcribe() con Whisper small > escribir_mensaje('in', transcripcion, tipo='audio') > procesar como texto.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_telegram",
    "categoria": "principio",
    "descripcion": "Canal lo controla el usuario",
    "evidencia": "El usuario abre y cierra el canal Telegram. ARGOS puede proponer cerrar pero no decidirlo. Si el usuario escribe por PC, no mandar por Telegram.",
    "sugerencia": null,
    "compartido": 1
  },
  {
    "tipo": "protocolo_telegram",
    "categoria": "principio",
    "descripcion": "Nunca silencio mayor a 20 seg",
    "evidencia": "Si algo tarda, avisar 'procesando, X seg'. El usuario no debe quedarse esperando sin feedback.",
    "sugerencia": null,
    "compartido": 1
  }
]